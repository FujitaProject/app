/* ==== Theme Tokens (暗いティール系) ==== */
:root{
  --bg-1:#031c23;
  --bg-2:#082d3a;
  --card-1:#0a3340;
  --card-2:#0f3e4d;
  --stroke:#164b59;
  --text:#e7fbff;
  --sub:#b6d7df;
  --accent:#24d1b1;
  --accent-press:#1ab89b;
  --warn:#ffc43d;
  --option:#0c2b36;
  --option-hover:#123b49;
  --option-border:#113845;
}

/* ==== Page ==== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  display:grid;
  place-items:center;
  padding:24px;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI",
               "Noto Sans JP", "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
  color:var(--text);
  background:
    radial-gradient(1000px 600px at 50% -200px, #0f5363 0%, transparent 60%),
    linear-gradient(180deg, var(--bg-1), var(--bg-2));
}

/* ==== Card / Screen ==== */
.screen{
  width:min(420px, 92vw);
  background:linear-gradient(180deg, var(--card-2), var(--card-1));
  border:1px solid var(--stroke);
  border-radius:20px;
  padding:22px 18px;
  box-shadow:
    0 10px 30px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.03);
  display:none;
}
.screen:not(.hidden){display:block}

.card-title{
  margin:2px 0 8px;
  font-size:22px;
  letter-spacing:.2px;
}
.card-sub{
  color:var(--sub);
  margin:0 0 14px;
}

/* ==== Illustration box (ライトシアン枠 + 赤シールド) ==== */
.illustration{
  margin:8px 0 14px;
  height:180px;
  border-radius:16px;
  background:#a4e6ee;
  display:grid; place-items:center;
  box-shadow: inset 0 -3px 8px rgba(0,0,0,.08);
}
.illustration svg{width:72%; height:auto}
.illustration rect{fill:#264653}
.illustration .shield{fill:#e74c3c}
.illustration .bang{fill:#ffffff}

/* ==== Question ==== */
.question-text{
  font-size:18px;
  line-height:1.5;
}
#question-image{
  max-width:100%;
  height:auto;
  margin-top:12px;
  border-radius:12px;
  border:1px solid var(--stroke);
}

/* ==== Options (大きめピル型、スクショ風) ==== */
.options{display:flex; flex-direction:column; gap:12px; margin-top:14px}
#options button{
  width:100%;
  padding:16px 14px;
  font-size:17px;
  font-weight:600;
  color:var(--text);
  background:var(--option);
  border:2px solid var(--option-border);
  border-radius:14px;
  text-align:center;
  cursor:pointer;
  transition:transform .03s ease, background .18s ease, border-color .18s ease, box-shadow .18s ease;
  box-shadow: 0 2px 0 rgba(0,0,0,.25);
}
#options button:hover{ background:var(--option-hover); }
#options button:active{ transform:translateY(1px); }

/* 選択時：黄色アウトライン + わずかなグロー（スクショの“枠強調”イメージ） */
#options button.selected{
  outline:3px solid var(--warn);
  box-shadow: 0 0 0 3px rgba(255,196,61,.22), 0 2px 0 rgba(0,0,0,.25);
  background:linear-gradient(180deg, #103542, #0c2b36);
  border-color:#2c5564;
}

/* ==== Buttons ==== */
button{
  border:none;
  background:#2d2d2d;
  color:var(--text);
  padding:12px 16px;
  border-radius:12px;
  cursor:pointer;
}
button.primary{
  width:auto;
  background:linear-gradient(180deg, var(--accent), #1cc3a3);
  color:#002d28;
  font-weight:800;
  border:1px solid rgba(0,0,0,.12);
  text-shadow:0 1px 0 rgba(255,255,255,.25);
}
button.primary:hover{ filter:brightness(1.05) }
button.primary:active{ background:var(--accent-press) }
button.primary:disabled{ opacity:.5; cursor:not-allowed }
button.secondary{
  background:transparent; border:1px solid var(--stroke); color:var(--text);
}
button.wide{ width:100%; }

/* ==== Result / Battle effect ==== */
.result-animation-container{ overflow:hidden }
.battle-animation{
  width:100%; height:150px; margin-bottom:14px;
  background-size:contain; background-repeat:no-repeat; background-position:center;
}
.battle-animation.attack-success{
  background-image:url('https://via.placeholder.com/220/0EC28B/FFFFFF?text=ATTACK!');
  animation:attackEffect .5s ease-out forwards;
}
.battle-animation.damage-taken{
  background-image:url('https://via.placeholder.com/220/FF5555/FFFFFF?text=DAMAGE!');
  animation:damageEffect .5s ease-out forwards;
}
@keyframes attackEffect{0%{transform:scale(.9);opacity:0}50%{transform:scale(1.06);opacity:1}100%{transform:scale(1);opacity:.1}}
@keyframes damageEffect{0%{background-color:transparent}25%{background-color:rgba(255,0,0,.2)}50%{background-color:rgba(255,0,0,.35);transform:translateX(6px)}75%{background-color:rgba(255,0,0,.2);transform:translateX(-6px)}100%{background-color:transparent;transform:none}}

.result-feedback p{margin:.4rem 0}
.explain{color:var(--sub)}
.score,.title{font-size:18px;}

/* ==== Utilities ==== */
.hidden{display:none !important}
.character-screen .dialogue-area{
  background:rgba(255,255,255,.04);
  border:1px solid var(--stroke);
  border-radius:12px;
  padding:14px;
}
